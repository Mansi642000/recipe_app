{% extends "base.html" %}
{% block content %}
<h2>My Recipes</h2>
<a href="{{ url_for('add_recipe') }}">+ Add New Recipe</a>
<ul>
    {% for r in recipes %}
    <li>
        <a href="{{ url_for('recipe_detail', recipe_id=r.id) }}">{{ r.title }}</a>
        <!-- Edit/Delete only if owner (should always be true here) -->
        <a href="{{ url_for('edit_recipe', recipe_id=r.id) }}">Edit</a>
        <form action="{{ url_for('delete_recipe', recipe_id=r.id) }}" method="POST" style="display:inline" onsubmit="return confirm('Are you sure you want to delete this recipe?');">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <button type="submit">Delete</button>
        </form>
    </li>
    {% else %}
    <li>You have not added any recipes yet.</li>
    {% endfor %}
</ul>
{% endblock %}
